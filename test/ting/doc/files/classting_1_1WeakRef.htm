<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ting: ting::WeakRef&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.htm"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.htm"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.htm"><span>Classes</span></a></li>
      <li><a href="files.htm"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.htm"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.htm"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.htm"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.htm"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceting.htm">ting</a>::<a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>
  </div>
</div>
<div class="contents">
<h1>ting::WeakRef&lt; T &gt; Class Template Reference</h1><!-- doxytag: class="ting::WeakRef" -->
<p>Weak Reference to a reference counted object.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Ref_8hpp_source.htm">Ref.hpp</a>&gt;</code></p>

<p><a href="classting_1_1WeakRef-members.htm">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#a160c126ffeace92283492ba4d0147495">WeakRef</a> (int v=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#aba4a29bb8e23c6df5d42b33492935e63">WeakRef</a> (const <a class="el" href="classting_1_1Ref.htm">Ref</a>&lt; T &gt; &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#aa4098bc06fcc6ed6073319c52190f19e">WeakRef</a> (const <a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#a801e201de14e8611b2fda0d35fcab6b9">~WeakRef</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#ad2478353dd324b624c7c73f6e353e5fc">operator=</a> (const <a class="el" href="classting_1_1Ref.htm">Ref</a>&lt; T &gt; &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#a4ff31c1b21e7603bfa77665df2b7bd50">operator=</a> (const <a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>&lt; T &gt; &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classting_1_1WeakRef.htm#a8d2de0dbf511eee48ca406f7d55dd56b">Reset</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset this reference.  <a href="#a8d2de0dbf511eee48ca406f7d55dd56b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br/>
 class ting::WeakRef&lt; T &gt;</h3>

<p>Weak Reference to a reference counted object. </p>
<p>A weak reference to reference counted object. The object is destroyed as soon as there are no references to the object, even if there are weak references. Thus, weak reference can point to some object but pointing to that object cannot prevent deletion of this object. To work with the object one needs to construct a hard reference (<a class="el" href="classting_1_1Ref.htm" title="Reference to a reference counted object.">ting::Ref</a>) to that object first, a hard reference can be constructed from weak reference: </p>
<div class="fragment"><pre class="fragment">        <a class="code" href="classting_1_1Ref.htm" title="Reference to a reference counted object.">ting::Ref&lt;TestCalss&gt;</a> t = TestClass::New();
        
        <a class="code" href="classting_1_1WeakRef.htm" title="Weak Reference to a reference counted object.">ting::WeakRef&lt;TestClass&gt;</a> weakt = t; <span class="comment">//weakt points to object</span>
 
        <span class="comment">//...</span>
 
        <span class="keywordflow">if</span>(<a class="code" href="classting_1_1Ref.htm" title="Reference to a reference counted object.">ting::Ref&lt;TestClass&gt;</a> obj = weakt){
                <span class="comment">//object still exists</span>
                obj-&gt;DoSomethig();
        }

        t.<a class="code" href="classting_1_1Ref.htm#ace1da4fd1b0a5d743cb8070f91bbdf2a" title="make this ting::Ref invalid.">Reset</a>();<span class="comment">//destroy the object</span>
        <span class="comment">//the object of class TestClass will be destroyed here,</span>
        <span class="comment">//despite there is a weak reference to that object.</span>
        <span class="comment">//From now on, the weak reference does not point to any object.</span>

        <span class="keywordflow">if</span>(<a class="code" href="classting_1_1Ref.htm" title="Reference to a reference counted object.">ting::Ref&lt;TestClass&gt;</a> obj = weakt){
                <span class="comment">//we will not get there</span>
                <a class="code" href="debug_8hpp.htm#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(<span class="keyword">false</span>)
        }
</pre></div> <hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a160c126ffeace92283492ba4d0147495"></a><!-- doxytag: member="ting::WeakRef::WeakRef" ref="a160c126ffeace92283492ba4d0147495" args="(int v=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::<a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>v</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aba4a29bb8e23c6df5d42b33492935e63"></a><!-- doxytag: member="ting::WeakRef::WeakRef" ref="aba4a29bb8e23c6df5d42b33492935e63" args="(const Ref&lt; T &gt; &amp;r)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::<a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classting_1_1Ref.htm">Ref</a>&lt; T &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>r</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4098bc06fcc6ed6073319c52190f19e"></a><!-- doxytag: member="ting::WeakRef::WeakRef" ref="aa4098bc06fcc6ed6073319c52190f19e" args="(const WeakRef &amp;r)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::<a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>&lt; T &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>r</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a801e201de14e8611b2fda0d35fcab6b9"></a><!-- doxytag: member="ting::WeakRef::~WeakRef" ref="a801e201de14e8611b2fda0d35fcab6b9" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::~<a class="el" href="classting_1_1WeakRef.htm">WeakRef</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4ff31c1b21e7603bfa77665df2b7bd50"></a><!-- doxytag: member="ting::WeakRef::operator=" ref="a4ff31c1b21e7603bfa77665df2b7bd50" args="(const WeakRef&lt; T &gt; &amp;r)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>&amp; <a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>&lt; T &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>r</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2478353dd324b624c7c73f6e353e5fc"></a><!-- doxytag: member="ting::WeakRef::operator=" ref="ad2478353dd324b624c7c73f6e353e5fc" args="(const Ref&lt; T &gt; &amp;r)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classting_1_1WeakRef.htm">WeakRef</a>&amp; <a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classting_1_1Ref.htm">Ref</a>&lt; T &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>r</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8d2de0dbf511eee48ca406f7d55dd56b"></a><!-- doxytag: member="ting::WeakRef::Reset" ref="a8d2de0dbf511eee48ca406f7d55dd56b" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classting_1_1WeakRef.htm">ting::WeakRef</a>&lt; T &gt;::Reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset this reference. </p>
<p>After calling this method the reference becomes invalid, i.e. it does not refer to any object. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Ref_8hpp_source.htm">Ref.hpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Apr 7 15:15:25 2010 for ting by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
